<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Distributional Weights • usefulR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Distributional Weights">
<meta property="og:description" content="usefulR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">usefulR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Colour-Palettes.html">Using the DfE Colour Palette</a>
    </li>
    <li>
      <a href="../articles/Distributional-Weights.html">Distributional Weights</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/l-hodge/usefulR/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="Distributional-Weights_files/jquery-1.11.3/jquery.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1">
<link href="Distributional-Weights_files/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet">
<script src="Distributional-Weights_files/bootstrap-3.3.5/js/bootstrap.min.js"></script><script src="Distributional-Weights_files/bootstrap-3.3.5/shim/html5shiv.min.js"></script><script src="Distributional-Weights_files/bootstrap-3.3.5/shim/respond.min.js"></script><script src="Distributional-Weights_files/navigation-1.1/tabsets.js"></script><script src="Distributional-Weights_files/accessible-code-block-0.0.1/empty-anchor.js"></script><link href="Distributional-Weights_files/anchor-sections-1.0/anchor-sections.css" rel="stylesheet">
<script src="Distributional-Weights_files/anchor-sections-1.0/anchor-sections.js"></script><script src="Distributional-Weights_files/kePrint-0.0.1/kePrint.js"></script><link href="Distributional-Weights_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Distributional Weights</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/l-hodge/usefulR/blob/master/vignettes/Distributional-Weights.Rmd"><code>vignettes/Distributional-Weights.Rmd</code></a></small>
      <div class="hidden name"><code>Distributional-Weights.Rmd</code></div>

    </div>

    
    
<p>The <span class="citation">Green Book (<a href="#ref-hm_treasury_green_book_green_2018" role="doc-biblioref">2018</a>)</span> encourages the use of ‘welfare’ or ‘distributional’ weights. This is based on the concept of the diminishing marginal utility of income, where the value of the an additional pound is worth more to those with lower incomes than those on higher incomes. This short vignette discusses the theory, recent estimation, suggested best practice and provides a short example.</p>
<div id="the-elasticity-of-marginal-utility" class="section level1">
<h1 class="hasAnchor">
<a href="#the-elasticity-of-marginal-utility" class="anchor"></a><span class="header-section-number">1</span> The elasticity of marginal utility</h1>
<p>If we assume a standard <a href="https://en.wikipedia.org/wiki/Isoelastic_utility">isoelastic utility function</a>:</p>
<p><span class="math display" id="eq:a">\[
\begin{equation}
  u(y) = \begin{cases}
         \frac{y^{1-\rho}-1}{1-\rho} &amp; \rho \neq 1 \\
         ln(y) &amp; \rho = 1
         \end{cases}
  \tag{1.1}
\end{equation}
\]</span>
Then the marginal utility of income is:</p>
<p><span class="math display" id="eq:b">\[
\begin{equation}
  u'(y) = y^{-\rho}
  \tag{1.2}
\end{equation}
\]</span></p>
<p>And so the ratio between two marginal utilities is:</p>
<p><span class="math display" id="eq:c">\[
\begin{equation}
  \frac{u'(y_1)}{u'(y_2)} = \left(\frac{y_2}{y_1}\right)^\rho
  \tag{1.3}
\end{equation}
\]</span></p>
<p>Therefore if <span class="math inline">\(\rho = 1\)</span> then marginal utility would be simply inversely proportional to earnings (<span class="math inline">\(y\)</span>) implying an individual, for example earning £25,000 would gain twice as much utility from an extra pound than someone earning £50,000. However, most evidence suggests that <span class="math inline">\(\rho\)</span>, the elasticity of marginal utility, is greater than 1. <span class="citation">Layard, Nickell, and Mayraz (<a href="#ref-layard_marginal_2008" role="doc-biblioref">2008</a>)</span> estimate <span class="math inline">\(\rho\)</span> to be 1.30 (0.97-1.62) in the UK using the British Household Panel Survey (BHPS) and 1.26 (1.16-1.37) in a combined estimate using BHPS and 5 other international surveys. This implies marginal utility falls at an even faster rate with respect to income, as shown in figure <a href="#fig:plot">1.1</a>.</p>
<div class="figure" style="text-align: center">
<span id="fig:plot"></span>
<img src="Distributional-Weights_files/figure-html/plot-1.png" alt="Marginal Utility" width="576"><p class="caption">
Figure 1.1: Marginal Utility
</p>
</div>
<p>The use of the <span class="citation">Layard, Nickell, and Mayraz (<a href="#ref-layard_marginal_2008" role="doc-biblioref">2008</a>)</span> central estimate of <span class="math inline">\(\rho = 1.3\)</span> is suggested by <span class="citation">Fujiwara (<a href="#ref-fujiwara_department_2010" role="doc-biblioref">2010</a>)</span> and endorsed by the <span class="citation">Green Book (<a href="#ref-hm_treasury_green_book_green_2018" role="doc-biblioref">2018</a>)</span>.</p>
</div>
<div id="welfare-weights" class="section level1">
<h1 class="hasAnchor">
<a href="#welfare-weights" class="anchor"></a><span class="header-section-number">2</span> Welfare Weights</h1>
<p>The <span class="citation">Green Book (<a href="#ref-hm_treasury_green_book_green_2018" role="doc-biblioref">2018</a>)</span>’s suggested methodology for calculating welfare weights is to split the household income distribution into <strong>5 quintiles</strong> and use the median of each quintile in calculations. The weights are derived as in equation <a href="#eq:c">(1.3)</a>, by expressing the marginal utility of each quintile as a percentage of the marginal utility of the overall median.</p>
</div>
<div id="example" class="section level1">
<h1 class="hasAnchor">
<a href="#example" class="anchor"></a><span class="header-section-number">3</span> Example</h1>
<p>We generate a hypothetical log-normal distribution of earnings:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">1234</span><span class="op">)</span>
<span class="va">earns</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Lognormal.html">rlnorm</a></span><span class="op">(</span><span class="fl">10000</span><span class="op">)</span> <span class="op">*</span> <span class="fl">30000</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">earns</span><span class="op">)</span>
<span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span>
<span class="co">#&gt;    1005   15493   30139   49187   58608 1118008</span></code></pre></div>
<p>The ‘welfare weights’ can be estimated for a given <span class="math inline">\(\rho\)</span> using the <code>dist_weights</code> function:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">weights</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dist_weights.html">dist_weights</a></span><span class="op">(</span>earns <span class="op">=</span> <span class="va">earns</span>, rho <span class="op">=</span> <span class="fl">1.3</span>, summary <span class="op">=</span> <span class="cn">TRUE</span>, standardise <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
<table class="table table">
<thead><tr>
<th style="text-align:right;">
quintile
</th>
<th style="text-align:right;">
median
</th>
<th style="text-align:right;">
weight
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
8497.518
</td>
<td style="text-align:right;">
5.1855478
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
18247.617
</td>
<td style="text-align:right;">
1.9200228
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
30139.368
</td>
<td style="text-align:right;">
1.0000000
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
50447.926
</td>
<td style="text-align:right;">
0.5118917
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
106240.801
</td>
<td style="text-align:right;">
0.1943997
</td>
</tr>
</tbody>
</table>
<p>Because the distribution of earnings is approximately log-normal and so right skewed, the median is <em>less than</em> the mean. As a result re-weighting using the welfare weights would increase the total utility (in this example the total utility gain is £17624 for a £1 increase in income for all 10,000 individuals)</p>
<p>We can standardise the weights such that the mean weight is 1 and the total utility gain will equal the total income gain. In other words, the weighting does not effect the total utility.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">std_weights</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dist_weights.html">dist_weights</a></span><span class="op">(</span>earns <span class="op">=</span> <span class="va">earns</span>, rho <span class="op">=</span> <span class="fl">1.3</span>, summary <span class="op">=</span> <span class="cn">TRUE</span>, standardise <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<table class="table table">
<thead><tr>
<th style="text-align:right;">
quintile
</th>
<th style="text-align:right;">
median
</th>
<th style="text-align:right;">
weight
</th>
<th style="text-align:right;">
std_weight
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
8497.518
</td>
<td style="text-align:right;">
5.1855478
</td>
<td style="text-align:right;">
2.9423678
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
18247.617
</td>
<td style="text-align:right;">
1.9200228
</td>
<td style="text-align:right;">
1.0894535
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
30139.368
</td>
<td style="text-align:right;">
1.0000000
</td>
<td style="text-align:right;">
0.5674170
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
50447.926
</td>
<td style="text-align:right;">
0.5118917
</td>
<td style="text-align:right;">
0.2904560
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
106240.801
</td>
<td style="text-align:right;">
0.1943997
</td>
<td style="text-align:right;">
0.1103057
</td>
</tr>
</tbody>
</table>
</div>
<div id="flags-potential-issues" class="section level1">
<h1 class="hasAnchor">
<a href="#flags-potential-issues" class="anchor"></a><span class="header-section-number">4</span> Flags / Potential Issues</h1>
<ul>
<li>
<span class="citation">Layard, Nickell, and Mayraz (<a href="#ref-layard_marginal_2008" role="doc-biblioref">2008</a>)</span> use household income in their estimation, however, we have estimated individual level income</li>
<li>Welfare weights are typically applied to just the bottom quintile not the whole distribution</li>
</ul>
</div>
<div id="references" class="section level1 unnumbered">
<h1 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h1>
<div id="refs" class="references">
<div id="ref-fujiwara_department_2010">
<p>Fujiwara, D. 2010. “The Department for Work and Pensions Social Cost-Benefit Analysis Framework.” 86. Department for Work; Pensions.</p>
</div>
<div id="ref-hm_treasury_green_book_green_2018">
<p>Green Book, HM Treasury. 2018.</p>
</div>
<div id="ref-layard_marginal_2008">
<p>Layard, R, S Nickell, and G Mayraz. 2008. “The Marginal Utility of Income.” <em>Journal of Public Economics</em> 92: 1846–57.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Louis Hodge.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
